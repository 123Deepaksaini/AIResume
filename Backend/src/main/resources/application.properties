server.port=${PORT:8080}
spring.application.name=resume-ai-backend

# Groq API Key (set as environment variable)
GROQ_API_KEY=${GROQ_API_KEY}

MySQL Database Configuration (tidb/MySQL service)
spring.datasource.url=jdbc:mysql://${HOST}:${PORT}/${DATABASE}?sslMode=REQUIRED
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver
spring.datasource.username=${USERNAME}
spring.datasource.password=${PASSWORD}

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Run schema.sql on startup
spring.sql.init.mode=always
spring.sql.init.continue-on-error=true
spring.sql.init.platform=mysql

# Defer datasource initialization after Hibernate
spring.jpa.defer-datasource-initialization=true


# Google OAuth client id for token audience verification
GOOGLE_CLIENT_ID=${YOUR_GOOGLE_CLIENT_ID}
app.auth.debug-reset-code=${APP_AUTH_DEBUG_RESET_CODE:true}

# SMTP mail configuration (set via environment)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${MAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Auth mail settings
app.auth.mail-from=${AUTH_MAIL_FROM:noreply@airesumebuilder.com}
app.frontend.reset-url=${FRONTEND_RESET_URL:http://localhost:5173/reset-password}
